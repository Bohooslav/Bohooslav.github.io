{
  "version": 3,
  "sources": ["../node_modules/imba/src/imba/utils.imba", "../node_modules/imba/src/imba/scheduler.imba", "../node_modules/imba/src/imba/dom/flags.imba", "../node_modules/imba/src/imba/dom/core.web.imba", "../node_modules/imba/src/imba/dom/fragment.imba", "../node_modules/imba/src/imba/dom/component.imba", "../node_modules/imba/src/imba/dom/styles.imba", "../node_modules/imba/src/imba/dom/context.imba", "../node_modules/imba/src/imba/dom/mount.imba", "../node_modules/imba/src/imba/events/core.imba", "song.imba", "songs.imba", "client.imba"],
  "sourcesContent": ["const dashRegex = /-./g\n\nexport class LazyProxy\n\tstatic def for getter\n\t\tnew Proxy({}, new self(getter))\n\n\tdef constructor getter\n\t\tgetter = getter\n\t\n\tget target\n\t\tgetter!\n\n\tdef get _, key\n\t\ttarget[key]\n\t\n\tdef set _, key, value\n\t\ttarget[key] = value\n\t\treturn true\n\nexport def proxy getter, placeholder = {}\n\tnew Proxy(placeholder, new LazyProxy(getter))\n\nexport def parseTime value\n\tlet typ = typeof value\n\tif typ == 'number'\n\t\treturn value\n\n\tif typ == 'string'\n\t\tif (/^\\d+fps$/).test(value)\n\t\t\treturn 1000 / parseFloat(value)\n\t\telif (/^([-+]?[\\d\\.]+)s$/).test(value)\n\t\t\treturn parseFloat(value) * 1000\n\t\telif (/^([-+]?[\\d\\.]+)ms$/).test(value)\n\t\t\treturn parseFloat(value)\n\t# throw or return NaN?\n\treturn null\n\t\n\nexport def serializeData data\n\tlet map = new Map\n\tlet arr = []\n\tlet logging = no\n\tlet replacer = do(key,value)\n\t\tif value and value.#type and key !== ''\n\t\t\tlet ref = map.get(value) # value[sym] ||= \"$${nr++}$$\"\n\t\t\tunless map.has(value)\n\t\t\t\tmap.set(value,ref = \"$${arr.length}$$\")\n\t\t\t\tarr.push(value)\n\t\t\treturn key == null ? value : ref\n\t\tvalue\n\n\tlet json = JSON.stringify(data,replacer,2)\n\tlet i = 0\n\tlogging = yes\n\twhile i < arr.length\n\t\tarr[i] = JSON.stringify(arr[i],replacer,2)\n\t\ti++\n\n\tlet inject = \"\"\n\tfor item,i in arr\n\t\tinject += \"\\\"$${i}$$\\\":{item},\\n\"\n\tjson = '{' + inject + json.slice(1)\n\treturn json\n\t\n\nexport def deserializeData data, reviver = null\n\tlet objects = {}\n\tlet reg = /\\$\\$\\d+\\$\\$/\n\tlet lookup = do(value)\n\t\treturn objects[value] ||= reviver ? reviver(value) : {}\n\n\tlet parser = do(key,value)\n\t\tif typeof value == 'string'\n\t\t\tif value[0] == '$' and reg.test(value)\n\t\t\t\treturn lookup(value)\n\t\telif typeof key == 'string' and key[0] == '$' and reg.test(key)\n\t\t\tlet obj = lookup(key)\n\t\t\tObject.assign(obj,value)\n\t\t\treturn obj\n\n\t\treturn value\n\n\tlet parsed = JSON.parse(data,parser)\n\treturn parsed\n\nexport def patchManifest prev, curr\n\tlet origs = {}\n\tlet diff = {\n\t\tadded: []\n\t\tchanged: []\n\t\tremoved: []\n\t\tall: []\n\t\turls: {}\n\t}\n\n\tif prev.assets\n\t\tfor item in prev.assets\n\t\t\tlet ref = item.originalPath or item.path\n\t\t\torigs[ref] = item\n\t\t\tif item.url\n\t\t\t\t# add old urls to the new manifest\n\t\t\t\tcurr.urls[item.url] ||= item\n\t\n\tfor item in (curr.assets or [])\n\t\tlet ref = item.originalPath or item.path\n\t\tlet orig = origs[ref]\n\n\t\tif item.url and prev.urls\n\t\t\tprev.urls[item.url] = item\n\n\t\tif orig\n\t\t\tif orig.hash != item.hash\n\t\t\t\torig.invalidated = Date.now!\n\t\t\t\torig.replacedBy = item\n\t\t\t\titem.replaces = orig\n\t\t\t\tdiff.changed.push(item)\n\t\t\t\tdiff.all.push(item)\n\n\t\t\t\tif orig == prev.main\n\t\t\t\t\tdiff.main = item\n\n\t\t\tdelete origs[ref]\n\t\telse\n\t\t\tdiff.added.push(item)\n\t\t\tdiff.all.push(item)\n\n\t# these are the items that are no longer referencd\n\tfor own path,item of origs\n\t\titem.removed = Date.now!\n\t\tdiff.all.push(item)\n\n\tfor item in diff.all\n\t\tlet typ = diff[item.type] ||= []\n\t\ttyp.push(item)\n\n\tdiff.removed = Object.values(origs)\n\tcurr.changes = diff\n\treturn curr\n\nexport def toCamelCase str\n\tif str.indexOf('-') >= 0\n\t\tstr.replace(dashRegex) do $1.charAt(1).toUpperCase!\n\telse\n\t\tstr\n\n\n# Basic events - move to separate file?\nconst emit__ = do(event, args, node)\n\tlet prev\n\tlet cb\n\tlet ret\n\n\twhile (prev = node) and (node = node.next)\n\t\tif cb = node.listener\n\t\t\tif node.path and cb[node.path]\n\t\t\t\tret = args ? cb[node.path].apply(cb,args) : cb[node.path]()\n\t\t\telse\n\t\t\t\t# check if it is a method?\n\t\t\t\tret = args ? cb.apply(node, args) : cb.call(node)\n\n\t\tif node.times && --node.times <= 0\n\t\t\tprev.next = node.next\n\t\t\tnode.listener = null\n\treturn\n\n# method for registering a listener on object\nexport def listen obj, event, listener, path\n\tlet cbs\n\tlet list\n\tlet tail\n\tcbs = obj.#__listeners__ ||= {}\n\tlist = cbs[event] ||= {}\n\ttail = list.tail || (list.tail = (list.next = {}))\n\ttail.listener = listener\n\ttail.path = path\n\tlist.tail = tail.next = {}\n\treturn tail\n\n# register a listener once\nexport def once obj, event, listener\n\tlet tail = listen(obj,event,listener)\n\ttail.times = 1\n\treturn tail\n\n# remove a listener\nexport def unlisten obj, event, cb, meth\n\tlet node\n\tlet prev\n\tlet meta = obj.#__listeners__\n\treturn unless meta\n\n\tif node = meta[event]\n\t\twhile (prev = node) and (node = node.next)\n\t\t\tif node == cb || node.listener == cb\n\t\t\t\tprev.next = node.next\n\t\t\t\t# check for correct path as well?\n\t\t\t\tnode.listener = null\n\t\t\t\tbreak\n\treturn\n\n# emit event\nexport def emit obj, event, params\n\tif let cb = obj.#__listeners__\n\t\temit__(event,params,cb[event]) if cb[event]\n\t\temit__(event,[event,params],cb.all) if cb.all\n\treturn", "# imba$imbaPath=global\nlet rAF = global.requestAnimationFrame || (do(blk) setTimeout(blk,1000 / 60))\nlet FPS = 60\nlet SPF = 1 / 60\n\t\t\n# Scheduler\nclass Scheduled\n\towner = null\n\ttarget = null\n\tactive = no\n\tvalue = undefined\n\tskip = 0\n\tlast = 0\n\n\tdef tick scheduler\n\t\tlast = owner.#frames\n\t\ttarget.tick(owner)\n\t\t1\n\n\tdef update o, activate?\n\t\tlet on = active\n\t\tlet val = o.value\n\t\tlet changed = value != val\n\n\t\tif changed\n\t\t\tdeactivate!\n\t\t\tvalue = val\n\n\t\tif value or on or activate?\n\t\t\tactivate!\n\t\tself\n\n\tdef queue\n\t\towner.add(self)\n\t\treturn\n\n\tdef activate\n\t\tif value === yes\n\t\t\towner.on('commit',self)\n\t\telif value === no\n\t\t\tyes\n\t\telif typeof value == 'number'\n\t\t\t# duration\n\t\t\tlet tock = value / (1000 / 60)\n\t\t\tif tock <= 2 \n\t\t\t\towner.on('raf',self)\n\t\t\telse\n\t\t\t\t#interval = global.setInterval(queue.bind(self),value)\n\n\t\tactive = yes\n\t\tself\n\n\tdef deactivate\n\t\tif value === yes\n\t\t\towner.un('commit',self)\n\t\towner.un('raf',self)\n\n\t\tif #interval\n\t\t\tglobal.clearInterval(#interval)\n\t\t\t#interval = null\n\n\t\tactive = no\n\t\tself\n\nexport class Scheduler\n\tdef constructor\n\t\tid = Symbol!\n\t\tself.queue = []\n\t\tself.stage = -1\n\t\t#stage = -1\n\t\t#frames = 0\n\t\t#scheduled = no\n\t\t\n\t\tself.listeners = {}\n\t\tself.intervals = {}\n\t\tself.commit = do\n\t\t\tadd('commit')\n\t\t\treturn self\n\n\t\t#fps = 0\n\n\t\t$promise = null\n\t\t$resolve = null\n\t\t#ticker = do(e)\n\t\t\t#scheduled = no\n\t\t\tself.tick(e)\n\t\tself\n\n\tdef add item, force\n\t\tif force or self.queue.indexOf(item) == -1\n\t\t\tself.queue.push(item)\n\n\t\t#schedule! unless #scheduled\n\t\treturn self\n\n\tdef listen ns, item\n\t\tlet set = listeners[ns]\n\t\tlet first = !set\n\t\tset ||= listeners[ns] = new Set\n\t\tset.add(item)\n\n\t\tadd('raf') if ns == 'raf' and first\n\t\tself\t\n\n\tdef unlisten ns, item\n\t\tlet set = listeners[ns]\n\t\tset && set.delete(item)\n\t\tif ns == 'raf' and set and set.size == 0\n\t\t\tdelete listeners.raf\n\t\tself\n\n\tdef on ns,item\n\t\tlisten(ns,item)\n\n\tdef un ns,item\n\t\tunlisten(ns,item)\n\n\tget promise\n\t\t$promise ||= new Promise do(resolve)\n\t\t\t$resolve = resolve\n\n\tdef tick timestamp\n\t\tlet items = self.queue\n\t\tlet frame = #frames++\n\t\tself.ts = timestamp unless self.ts\n\t\tself.dt = timestamp - self.ts\n\t\tself.ts = timestamp\n\t\tself.queue = []\n\t\t#stage = 1\n\n\t\t# calculate frames elapsed since last tick etc?\n\n\t\tif items.length\n\t\t\tfor item,i in items\n\t\t\t\tif typeof item === 'string' && listeners[item]\n\t\t\t\t\tlisteners[item].forEach do |item|\n\t\t\t\t\t\tif item.tick isa Function\n\t\t\t\t\t\t\titem.tick(self)\n\t\t\t\t\t\telif item isa Function\n\t\t\t\t\t\t\titem(self)\n\t\t\t\telif item isa Function\n\t\t\t\t\titem(self.dt,self)\n\t\t\t\telif item.tick\n\t\t\t\t\titem.tick(self.dt,self)\n\n\t\t#stage = #scheduled ? 0 : -1\n\n\t\tif $promise\n\t\t\t$resolve(self)\n\t\t\t$promise = $resolve = null\n\n\t\tif listeners.raf and true\n\t\t\tadd('raf')\n\t\tself\n\n\tdef #schedule\n\t\tif !#scheduled\n\t\t\t#scheduled = yes\n\t\t\t#stage = 0 if #stage == -1\n\t\t\trAF(#ticker)\n\t\tself\n\n\tdef schedule item, o\n\t\to ||= (item[id] ||= {value: yes})\n\t\tlet state = o[id] ||= new Scheduled(owner: self, target: item)\n\t\tstate.update(o,yes)\n\n\tdef unschedule item, o = {}\n\t\to ||= item[id]\n\t\tlet state = o and o[id]\n\t\tif state and state.active\n\t\t\tstate.deactivate!\n\t\tself\n\nexport const scheduler = new Scheduler \n\nexport def commit\n\tscheduler.add('commit').promise\n\nexport def setTimeout fn,ms\n\tglobal.setTimeout(&,ms) do\n\t\tfn!\n\t\tcommit!\n\t\treturn\n\nexport def setInterval fn,ms\n\tglobal.setInterval(&,ms) do\n\t\tfn!\n\t\tcommit!\n\t\treturn\n\nexport const clearInterval = global.clearInterval\nexport const clearTimeout = global.clearTimeout", "export class Flags\n\n\tdef constructor dom\n\t\tdom = dom\n\t\tstring = \"\"\n\n\tdef contains ref\n\t\treturn dom.classList.contains(ref)\n\n\tdef add ref\n\t\treturn self if contains(ref)\n\t\tstring += (string ? ' ' : '') + ref\n\t\tdom.classList.add(ref)\n\t\t# sync!\n\t\treturn self\n\n\tdef remove ref\n\t\treturn self unless contains(ref)\n\t\tvar regex = new RegExp('(^|\\\\s)*' + ref + '(\\\\s|$)*', 'g')\n\t\tstring = string.replace(regex, '')\n\t\tdom.classList.remove(ref)\n\t\t# sync!\n\t\treturn self\n\n\tdef toggle ref, bool\n\t\tbool = !contains(ref) if bool === undefined\n\t\tbool ? add(ref) : remove(ref)\n\t\t\n\tdef incr ref\n\t\tlet m = stacks ||= {}\n\t\tlet c = m[ref] or 0\n\t\tadd(ref) if c < 1\n\t\treturn m[ref] = Math.max(c,0) + 1\n\t\n\tdef decr ref\n\t\tlet m = stacks ||= {}\n\t\tlet c = m[ref] or 0\n\t\tremove(ref) if c == 1\n\t\treturn m[ref] = Math.max(c,1) - 1\n\n\tdef valueOf\n\t\tstring\n\n\tdef toString\n\t\tstring\n\n\tdef sync\n\t\tdom.flagSync$!", "import {Flags} from './flags'\n\nexport const {\n\tEvent,\n\tUIEvent,\n\tMouseEvent,\n\tPointerEvent,\n\tKeyboardEvent,\n\tCustomEvent,\n\tNode,\n\tComment,\n\tText,\n\tElement,\n\tHTMLElement,\n\tHTMLHtmlElement,\n\tHTMLSelectElement,\n\tHTMLInputElement,\n\tHTMLTextAreaElement,\n\tHTMLButtonElement,\n\tHTMLOptionElement,\n\tHTMLScriptElement,\n\tSVGElement,\n\tDocumentFragment,\n\tShadowRoot,\n\tDocument,\n\tWindow,\n\tcustomElements\n} = global.window\n\n# export const document = global.window.document\nconst CustomTagConstructors = {}\nconst CustomTagToElementNames = {}\nexport const TYPES = {}\nexport const CUSTOM_TYPES = {}\nexport def get_document\n\tglobal.document\n\nexport def use_window\n\tyes\n\n\n\n# Basic node extensions\n\nconst contextHandler =\n\tdef get target, name\n\t\tlet ctx = target\n\t\tlet val = undefined\n\t\twhile ctx and val == undefined\n\t\t\tif ctx = ctx.#parent\n\t\t\t\tval = ctx[name]\n\t\treturn val\n\nextend class Document\n\tget flags\n\t\tself.documentElement.flags\n\nextend class Node\n\tget #parent\n\t\t##parent or this.parentNode or ##up # FIX\n\n\tget #context\n\t\t##context ||= new Proxy(self,contextHandler)\n\n\tdef #init\n\t\tself\n\n\t# replace this with something else\n\tdef replaceWith$ other\n\t\tif !(other isa Node) and other.replace$\n\t\t\tother.replace$(this)\n\t\telse\n\t\t\tself.parentNode.replaceChild(other,this)\n\t\treturn other\n\n\tdef insertInto$ parent\n\t\tparent.appendChild$(this)\n\t\treturn this\n\n\tdef insertBefore$ el, prev\n\t\tthis.insertBefore(el,prev)\n\n\tdef insertBeforeBegin$ other\n\t\tself.parentNode.insertBefore(other,this)\n\n\tdef insertAfterEnd$ other\n\t\tif self.nextSibling\n\t\t\tself.nextSibling.insertBeforeBegin$(other)\n\t\telse\n\t\t\tself.parentNode.appendChild(other)\n\t\n\tdef insertAfterBegin$ other\n\t\tif self.childNodes[0]\n\t\t\tself.childNodes[0].insertBeforeBegin$(other)\n\t\telse\n\t\t\tself.appendChild(other)\n\n\tget #placeholder__\n\t\t##placeholder__ ||= global.document.createComment(\"\")\n\n\tset #placeholder__ value\n\t\tlet prev = ##placeholder__\n\t\t##placeholder__ = value\n\t\tif prev and prev != value and prev.parentNode\n\t\t\tprev.replaceWith$(value)\n\n\tdef #attachToParent\n\t\tlet ph = #placeholder__\n\t\tif ph.parentNode and ph != self\n\t\t\tph.replaceWith$(self)\n\t\tself\n\n\tdef #detachFromParent route\n\t\tlet ph = #placeholder__\n\t\tif parentNode and ph != self\n\t\t\tself.replaceWith$(ph)\n\t\t\t# TODO add detached flag?\n\t\tself\n\n# Basic element extensions\nextend class Element\n\t\n\tdef log ...params\n\t\tconsole.log(...params)\n\t\tself\n\n\tdef emit name, detail, o = {bubbles: true}\n\t\to.detail = detail if detail != undefined\n\t\tlet event = new CustomEvent(name, o)\n\t\tlet res = self.dispatchEvent(event)\n\t\treturn event\n\n\tdef slot$ name, ctx\n\t\treturn self\n\n\t# inline in files or remove all together?\n\tdef text$ item\n\t\tself.textContent = item\n\t\tself\n\n\tdef insert$ item, f, prev\n\t\tlet type = typeof item\n\n\t\tif type === 'undefined' or item === null\n\t\t\t# what if the prev value was the same?\n\t\t\tif prev and prev isa Comment # check perf\n\t\t\t\treturn prev\n\n\t\t\tlet el = document.createComment('')\n\t\t\tprev ? prev.replaceWith$(el) : el.insertInto$(this)\n\t\t\treturn el\n\n\t\t# dont reinsert again\n\t\tif item === prev\n\t\t\treturn item\n\n\t\t# what if this is null or undefined -- add comment and return? Or blank text node?\n\t\telif type !== 'object'\n\t\t\tlet res\n\t\t\tlet txt = item\n\t\t\t\n\t\t\tif (f & $TAG_FIRST_CHILD$) && (f & $TAG_LAST_CHILD$)\n\t\t\t\t# FIXME what if the previous one was not text? Possibly dangerous\n\t\t\t\t# when we set this on a fragment - it essentially replaces the whole\n\t\t\t\t# fragment?\n\t\t\t\tself.textContent = txt\n\t\t\t\treturn\n\n\t\t\tif prev\n\t\t\t\tif prev isa Text # check perf\n\t\t\t\t\tprev.textContent = txt\n\t\t\t\t\treturn prev\n\t\t\t\telse\n\t\t\t\t\tres = document.createTextNode(txt)\n\t\t\t\t\tprev.replaceWith$(res,self)\n\t\t\t\t\treturn res\n\t\t\telse\n\t\t\t\tself.appendChild$(res = document.createTextNode(txt))\n\t\t\t\treturn res\t\n\n\t\telse\n\t\t\tprev ? prev.replaceWith$(item,self) : item.insertInto$(self)\n\t\t\treturn item\n\t\treturn\n\n\tdef open$\n\t\tself\n\n\tdef close$\n\t\tself\n\n\tdef end$\n\t\tself.render() if self.render\n\t\treturn\n\n\tget flags\n\t\tunless $flags\n\t\t\t# unless deopted - we want to first cache the extflags\n\t\t\t$flags = new Flags(self)\n\t\t\tif flag$ == Element.prototype.flag$\n\t\t\t\tflags$ext = self.className\n\t\t\tflagDeopt$()\n\t\treturn $flags\n\n\tdef flag$ str\n\t\t# Potentially slow\n\t\tlet ns = flags$ns\n\t\tself.className = ns ? (ns + (flags$ext = str)) : (flags$ext = str)\n\t\treturn\n\t\t\n\tdef flagDeopt$\n\t\tself.flag$ = self.flagExt$ # do(str) self.flagSync$(flags$ext = str)\n\t\tself.flagSelf$ = do(str) self.flagSync$(flags$own = str)\n\t\treturn\n\t\t\n\tdef flagExt$ str\n\t\tself.flagSync$(flags$ext = str)\n\n\tdef flagSelf$ str\n\t\t# if a tag receives flags from inside <self> we need to\n\t\t# redefine the flag-methods to later use both\n\t\tflagDeopt$()\n\t\treturn flagSelf$(str)\n\n\tdef flagSync$\n\t\tself.className = ((flags$ns or '') + (flags$ext or '') + ' ' + (flags$own || '') + ' ' + ($flags or ''))\n\n\nElement.prototype.appendChild$  = Element.prototype.appendChild\nElement.prototype.removeChild$  = Element.prototype.removeChild\nElement.prototype.insertBefore$ = Element.prototype.insertBefore\nElement.prototype.replaceChild$ = Element.prototype.replaceChild\nElement.prototype.set$ = Element.prototype.setAttribute\nElement.prototype.setns$ = Element.prototype.setAttributeNS\n\nexport def createElement name, parent, flags, text\n\tlet el = document.createElement(name)\n\t\t\n\tel.className = flags if flags\n\n\tif text !== null\n\t\tel.text$(text)\n\n\tif parent and parent isa Node\n\t\tel.insertInto$(parent)\n\n\treturn el\n\n\nconst descriptorCache = {}\ndef getDescriptor item,key,cache\n\tif !item\n\t\treturn cache[key] = null\n\n\tif cache[key] !== undefined\n\t\treturn cache[key]\n\t\n\tlet desc = Object.getOwnPropertyDescriptor(item,key)\n\n\tif desc !== undefined or item == SVGElement\n\t\treturn cache[key] = desc or null\n\n\tgetDescriptor(Reflect.getPrototypeOf(item),key,cache)\n\nextend class SVGElement\n\n\tdef set$ key,value\n\t\tlet cache = descriptorCache[nodeName] ||= {}\n\t\tlet desc = getDescriptor(this,key,cache)\n\n\t\tif !desc or !desc.set\n\t\t\tsetAttribute(key,value)\n\t\telse\n\t\t\tself[key] = value\n\t\treturn\n\n\tdef flag$ str\n\t\tlet ns = flags$ns\n\t\tself.className.baseVal = ns ? (ns + (flags$ext = str)) : (flags$ext = str)\n\t\treturn\n\n\tdef flagSelf$ str\n\t\t# if a tag receives flags from inside <self> we need to\n\t\t# redefine the flag-methods to later use both\n\t\tself.flag$ = do(str) self.flagSync$(flags$ext = str)\n\t\tself.flagSelf$ = do(str) self.flagSync$(flags$own = str)\n\t\treturn flagSelf$(str)\n\n\tdef flagSync$\n\t\tself.className.baseVal = ((flags$ns or '') + (flags$ext or '') + ' ' + (flags$own || '') + ' ' + ($flags or ''))\n\n\nextend class SVGSVGElement\n\n\tset src value\n\t\tif #src =? value\n\t\t\tif value..adoptNode\n\t\t\t\tvalue.adoptNode(self)\n\t\t\telif value..content\n\t\t\t\tfor own k,v of value.attributes\n\t\t\t\t\tsetAttribute(k,v)\n\t\t\t\tinnerHTML = value.content\n\t\treturn\n\n\t\t\n\nexport def createSVGElement name, parent, flags, text, ctx\n\tlet el = document.createElementNS(\"http://www.w3.org/2000/svg\",name)\n\n\tif flags\n\t\tel.className.baseVal = flags\n\n\tif parent and parent isa Node\n\t\tel.insertInto$(parent)\n\treturn el\n\nexport def createComment text\n\tdocument.createComment(text)\n\nexport def createFragment\n\tdocument.createDocumentFragment!\n\n\n\nconst vendor = global.navigator..vendor or ''\nconst ua = global.navigator..userAgent or ''\n\nconst isSafari = vendor.indexOf('Apple') > -1 || ua.indexOf('CriOS') >= 0 || ua.indexOf('FxiOS') >= 0\nconst supportsCustomizedBuiltInElements = !isSafari\nconst CustomDescriptorCache = new Map\n\nclass CustomHook < HTMLElement\n\tdef connectedCallback\n\t\tif supportsCustomizedBuiltInElements\n\t\t\tparentNode.removeChild(self)\n\t\telse\n\t\t\tparentNode.connectedCallback!\n\n\tdef disconnectedCallback\n\t\tif !supportsCustomizedBuiltInElements\n\t\t\tparentNode.disconnectedCallback!\n\nwindow.customElements.define('i-hook',CustomHook)\n\ndef getCustomDescriptors el, klass\n\tlet props = CustomDescriptorCache.get(klass)\n\n\tunless props\n\t\tprops = {}\n\t\tlet proto = klass.prototype\n\t\tlet protos = [proto]\n\t\twhile proto = (proto and Object.getPrototypeOf(proto))\n\t\t\tbreak if proto.constructor == el.constructor\n\t\t\tprotos.unshift(proto)\n\n\t\tfor item in protos\n\t\t\tlet desc = Object.getOwnPropertyDescriptors(item)\n\t\t\tObject.assign(props,desc)\n\t\tCustomDescriptorCache.set(klass,props)\n\n\treturn props\n\n# Registry\nexport def createComponent name, parent, flags, text, ctx\n\t# the component could have a different web-components name?\n\tlet el\n\t\n\tif typeof name != 'string'\n\t\tif name and name.nodeName\n\t\t\tname = name.nodeName\n\n\tlet cmpname = CustomTagToElementNames[name] or name\n\n\tif CustomTagConstructors[name]\n\t\tlet cls = CustomTagConstructors[name]\n\t\tlet typ = cls.prototype.#htmlNodeName\n\t\tif typ and supportsCustomizedBuiltInElements\n\t\t\tel = document.createElement(typ,is: name)\n\t\telif cls.create$ and typ\n\t\t\tel = document.createElement(typ)\n\t\t\tel.setAttribute('is',cmpname)\n\t\t\tlet props = getCustomDescriptors(el,cls)\n\t\t\tObject.defineProperties(el,props)\n\t\t\tel.__slots = {}\n\t\t\t# check if we need a hook though?\n\t\t\tel.appendChild(document.createElement('i-hook'))\n\t\telif cls.create$\n\t\t\tel = cls.create$(el)\n\t\t\tel.__slots = {}\n\t\telse\n\t\t\tconsole.warn \"could not create tag {name}\"\n\telse\n\t\tel = document.createElement(CustomTagToElementNames[name] or name)\n\n\tel.##parent = parent\n\tel.#init!\n\n\tif text !== null\n\t\tel.slot$('__').text$(text)\n\t\t\n\tif flags or el.flags$ns # or nsflag\n\t\tel.flag$(flags or '')\n\treturn el\n\nexport def getTagType name, klass\n\t# TODO follow same structure as ssr TYPES\n\tif TYPES[name]\n\t\treturn TYPES[name]\n\n\tif window[klass]\n\t\treturn window[klass]\n\n\tif window[name]\n\t\treturn window[name]\n\nexport def getSuperTagType name, klass, cmp\n\tlet typ = getTagType(name,klass)\n\tlet custom = typ == cmp or typ.prototype isa cmp or typ.prototype.#htmlNodeName\n\n\tif !custom\n\t\tlet cls = typ.prototype.#ImbaElement\n\n\t\tif !cls\n\t\t\tcls = class CustomBuiltInElement < typ\n\t\t\t\tdef constructor\n\t\t\t\t\tsuper\n\t\t\t\t\t__slots = {}\n\t\t\t\t\t__F = 0\n\n\t\t\ttyp.prototype.#ImbaElement = cls\n\t\t\tlet descriptors = Object.getOwnPropertyDescriptors(cmp.prototype)\n\t\t\tObject.defineProperties(cls.prototype,descriptors)\n\t\t\tcls.prototype.#htmlNodeName = name\n\n\t\treturn cls\n\n\treturn typ\n\nexport def defineTag name, klass, options = {}\n\tTYPES[name] = CUSTOM_TYPES[name] = klass\n\n\tklass.nodeName = name\n\n\tlet componentName = name\n\tlet proto = klass.prototype\n\n\tif name.indexOf('-') == -1\n\t\tcomponentName = \"{name}-tag\"\n\t\tCustomTagToElementNames[name] = componentName\n\n\tlet basens = proto._ns_\n\tif options.ns\n\t\tlet ns = options.ns\n\t\tlet flags = ns + ' ' + ns + '_ '\n\t\tif basens\n\t\t\tflags += proto.flags$ns \n\t\t\tns += ' ' + basens\n\t\tproto._ns_ = ns\n\t\tproto.flags$ns = flags\n\n\tif proto.#htmlNodeName\n\t\toptions.extends = proto.#htmlNodeName\n\n\tif options.extends\n\t\tproto.#htmlNodeName = options.extends\n\t\tCustomTagConstructors[name] = klass\n\n\t\tif supportsCustomizedBuiltInElements\n\t\t\twindow.customElements.define(componentName,klass,extends: options.extends)\n\telse\n\t\twindow.customElements.define(componentName,klass)\n\n\treturn klass", "import {Element,Text,DocumentFragment,createFragment,createComment} from './core'\n\nextend class DocumentFragment\n\n\tget #parent\n\t\t##up or ##parent\n\n\t# Called to make a documentFragment become a live fragment\n\tdef setup$ flags, options\n\t\t$start = createComment('start')\n\t\t$end = createComment('end')\n\n\t\t$end.replaceWith$ = do(other)\n\t\t\tthis.parentNode.insertBefore(other,this)\n\t\t\treturn other\n\n\t\tthis.appendChild($start)\n\t\tthis.appendChild($end)\n\t\n\t# when we for sure know that the only content should be\n\t# a single text node\n\tdef text$ item\n\t\tunless $text\n\t\t\t$text = this.insert$(item)\n\t\telse\n\t\t\t$text.textContent = item\n\t\treturn\n\t\n\tdef insert$ item, options, toReplace\n\t\tif ##parent\n\t\t\t# if the fragment is attached to a parent\n\t\t\t# we can just proxy the call through\n\t\t\t##parent.insert$(item,options,toReplace or $end)\n\t\telse\n\t\t\tElement.prototype.insert$.call(this,item,options,toReplace or $end)\n\n\tdef insertInto$ parent, before\n\t\tunless ##parent\n\t\t\t##parent = parent\n\t\t\t# console.log 'insertFrgment into',parent,Array.from(self.childNodes)\n\t\t\tparent.appendChild$(this)\n\t\treturn this\n\n\tdef replaceWith$ other, parent\n\t\t$start.insertBeforeBegin$(other)\n\t\tvar el = $start\n\t\twhile el\n\t\t\tlet next = el.nextSibling\n\t\t\tself.appendChild(el)\n\t\t\tbreak if el == $end\n\t\t\tel = next\n\t\t\t\n\t\treturn other\n\n\tdef appendChild$ child\n\t\t$end ? $end.insertBeforeBegin$(child) : self.appendChild(child)\n\t\treturn child\n\n\tdef removeChild$ child\n\t\tchild.parentNode && child.parentNode.removeChild(child)\n\t\tself\n\n\tdef isEmpty$\n\t\tlet el = $start\n\t\tlet end = $end\n\n\t\twhile el = el.nextSibling\n\t\t\tbreak if el == end\n\t\t\treturn false if el isa Element or el isa Text\n\t\treturn true\n\nclass VirtualFragment\n\tdef constructor f, parent\n\t\t__F = f\n\t\t#parent = parent\n\n\tdef appendChild$ item, index\n\t\t# we know that these items are dom elements\n\t\tif $end and #parent\n\t\t\t$end.insertBeforeBegin$(item)\n\t\telif #parent\n\t\t\t#parent.appendChild$(item)\n\t\treturn\n\n\tdef replaceWith$ other\n\t\tself.detachNodes()\n\t\t$end.insertBeforeBegin$(other)\n\t\t#parent.removeChild$($end)\n\t\t#parent = null\n\t\treturn\n\n\tdef joinBefore$ before\n\t\tself.insertInto$(before.parentNode,before)\n\n\tdef insertInto$ parent, before\n\t\tunless #parent\n\t\t\t#parent = parent\n\t\t\tbefore ? before.insertBeforeBegin$($end) : parent.appendChild$($end)\n\t\t\tself.attachNodes()\n\t\treturn this\n\t\n\tdef replace$ other\n\t\tunless #parent\n\t\t\t#parent = other.parentNode\n\t\tother.replaceWith$($end)\n\t\tself.attachNodes()\n\t\tself\n\t\t\n\tdef setup\n\t\tself\n\nclass KeyedTagFragment < VirtualFragment\n\t\n\tdef constructor f, parent\n\t\tsuper\n\n\t\tif !(f & $TAG_FIRST_CHILD$)\n\t\t\t$start = createComment('start')\n\t\t\tparent.appendChild$($start) if parent\n\n\t\tunless f & $TAG_LAST_CHILD$\n\t\t\t$end = createComment('end')\n\t\t\tparent.appendChild$($end) if parent\n\n\t\tself.setup()\n\n\tdef setup\n\t\tself.array = []\n\t\tself.changes = new Map\n\t\tself.dirty = no\n\t\tself.$ = {}\n\n\tdef push item, idx\n\t\t# on first iteration we can merely run through\n\t\tunless __F & $TAG_INITED$\n\t\t\tself.array.push(item)\n\t\t\tself.appendChild$(item)\n\t\t\treturn\n\n\t\tlet toReplace = self.array[idx]\n\n\t\tif toReplace === item\n\t\t\tyes\n\t\telse\n\t\t\tself.dirty = yes\n\t\t\t# if this is a new item\n\t\t\tlet prevIndex = self.array.indexOf(item)\n\t\t\tlet changed = self.changes.get(item)\n\n\t\t\tif prevIndex === -1\n\t\t\t\t# should we mark the one currently in slot as removed?\n\t\t\t\tself.array.splice(idx,0,item)\n\t\t\t\tself.insertChild(item,idx)\n\n\t\t\telif prevIndex === idx + 1\n\t\t\t\tif toReplace\n\t\t\t\t\tself.changes.set(toReplace,-1)\n\t\t\t\tself.array.splice(idx,1)\n\n\t\t\telse\n\t\t\t\tself.array.splice(prevIndex,1) if prevIndex >= 0\n\t\t\t\tself.array.splice(idx,0,item)\n\t\t\t\tself.insertChild(item,idx)\n\n\t\t\tif changed == -1\n\t\t\t\tself.changes.delete(item)\n\t\treturn\n\n\tdef insertChild item, index\n\t\tif index > 0\n\t\t\tlet other = self.array[index - 1]\n\t\t\t# will fail with text nodes\n\t\t\tother.insertAfterEnd$(item)\n\t\telif $start\n\t\t\t$start.insertAfterEnd$(item)\n\t\telse\n\t\t\t#parent.insertAfterBegin$(item)\n\t\treturn\n\n\tdef removeChild item, index\n\t\t# self.map.delete(item)\n\t\t# what if this is a fragment or virtual node?\n\t\tif item.parentNode == #parent\n\t\t\t#parent.removeChild(item)\n\t\treturn\n\n\tdef attachNodes\n\t\tfor item,i in self.array\n\t\t\t$end.insertBeforeBegin$(item)\n\t\treturn\n\n\tdef detachNodes\n\t\tfor item in self.array\n\t\t\t#parent.removeChild(item)\n\t\treturn\n\n\tdef end$ index\n\t\tunless __F & $TAG_INITED$\n\t\t\t__F |= $TAG_INITED$\n\t\t\treturn\n\n\t\tif self.dirty\n\t\t\tself.changes.forEach do |pos,item|\n\t\t\t\tif pos == -1\n\t\t\t\t\tself.removeChild(item)\n\t\t\tself.changes.clear()\n\t\t\tself.dirty = no\n\n\t\t# there are some items we should remove now\n\t\tif self.array.length > index\n\t\t\t\n\t\t\t# remove the children below\n\t\t\twhile self.array.length > index\n\t\t\t\tlet item = self.array.pop()\n\t\t\t\tself.removeChild(item)\n\t\t\t# self.array.length = index\n\t\treturn\n\nclass IndexedTagFragment < VirtualFragment\n\n\tdef constructor f, parent\n\t\tsuper\n\n\t\tunless f & $TAG_LAST_CHILD$\n\t\t\t$end = createComment('end')\n\t\t\tparent.appendChild$($end) if parent\n\n\t\tself.setup()\n\n\tdef setup\n\t\tself.$ = []\n\t\tself.length = 0\n\n\tdef end$ len\n\t\tlet from = self.length\n\t\treturn if from == len or !#parent\n\t\tlet array = self.$\n\t\tlet par = #parent\n\n\t\tif from > len\n\t\t\twhile from > len\n\t\t\t\tpar.removeChild$(array[--from])\n\t\telif len > from\n\t\t\twhile len > from\n\t\t\t\tself.appendChild$(array[from++])\n\t\tself.length = len\n\t\treturn\n\n\tdef attachNodes\n\t\tfor item,i in self.$\n\t\t\tbreak if i == self.length\n\t\t\t$end.insertBeforeBegin$(item)\n\t\treturn\n\n\tdef detachNodes\n\t\tlet i = 0\n\t\twhile i < self.length\n\t\t\tlet item = self.$[i++]\n\t\t\t#parent.removeChild$(item)\n\t\treturn\n\nexport def createLiveFragment bitflags, options, par\n\tconst el = createFragment!\n\tel.setup$(bitflags, options)\n\tel.##up = par if par\n\treturn el\n\nexport def createIndexedFragment bitflags, parent\n\treturn new IndexedTagFragment(bitflags,parent)\n\nexport def createKeyedFragment bitflags, parent\n\treturn new KeyedTagFragment(bitflags,parent)\n\n\n", "import {Node,HTMLElement,CUSTOM_TYPES} from './core'\nimport {createLiveFragment} from './fragment'\nimport {scheduler} from '../scheduler'\n\nconst hydrator = new class\n\titems = []\n\tcurrent = null\n\tlastQueued = null\n\ttests = 0\n\n\tdef flush\n\t\tlet item = null\n\n\t\tif false\n\t\t\tconsole.log 'flush hydrate',items,tests\n\t\t\tfor item,i in items\n\t\t\t\tlet next = items[i + 1]\n\t\t\t\tif next\n\t\t\t\t\tunless next.compareDocumentPosition(item) & Node.DOCUMENT_POSITION_PRECEDING\n\t\t\t\t\t\tconsole.log \"WRONG ORDER!!!\",item,next,next.compareDocumentPosition(item)\n\n\t\twhile item = items.shift!\n\t\t\tcontinue if !item.parentNode or item.hydrated?\n\t\t\t# Mark as inited to stop connectedCallback from early exit\n\t\t\tlet prev = current\n\t\t\tcurrent = item\n\t\t\titem.__F |= $EL_SSR$\n\t\t\titem.connectedCallback!\n\t\t\tcurrent = prev\n\t\treturn\n\n\tdef queue item\n\t\t# let len = items.push(item)\n\t\tlet len = items.length\n\t\tlet idx = 0\n\t\tlet prev = lastQueued\n\t\tlastQueued = item\n\n\t\tlet BEFORE = Node.DOCUMENT_POSITION_PRECEDING\n\t\tlet AFTER = Node.DOCUMENT_POSITION_FOLLOWING\n\n\t\tif len\n\t\t\tlet prevIndex = items.indexOf(prev)\n\t\t\tlet index = prevIndex\n\n\t\t\tlet compare = do(a,b)\n\t\t\t\ttests++\n\t\t\t\ta.compareDocumentPosition(b)\n\n\t\t\tif prevIndex == -1 or prev.nodeName != item.nodeName\n\t\t\t\tindex = prevIndex = 0\n\n\t\t\tlet curr = items[index]\n\n\t\t\twhile curr and compare(curr,item) & AFTER\n\t\t\t\tcurr = items[++index]\n\n\t\t\tif index != prevIndex\n\t\t\t\tcurr ? items.splice(index,0,item) : items.push(item)\n\t\t\telse\n\t\t\t\twhile curr and compare(curr,item) & BEFORE\n\t\t\t\t\tcurr = items[--index]\n\t\t\t\tif index != prevIndex\n\t\t\t\t\tcurr ? items.splice(index + 1,0,item) : items.unshift(item)\n\t\telse\n\t\t\titems.push(item)\n\t\t\tglobal.queueMicrotask(flush.bind(self)) if !current\n\n\t\treturn\n\n\tdef run item\n\t\treturn if active\n\t\t# look for parents that are still hydrated\n\t\t# only the ssr elements that are not yet awakened\n\t\tactive = yes\n\t\t# let all = global.document.getElementsByClassName('__ssr')\n\t\tlet all = global.document.querySelectorAll('.__ssr')\n\t\tconsole.log 'running hydrator',item,all.length,Array.from(all)\n\n\t\tfor item in all\n\t\t\titem.#count ||= 1\n\t\t\titem.#count++\n\t\t\tlet name = item.nodeName\n\t\t\tlet typ = map[name] ||= global.window.customElements.get(name.toLowerCase!) or HTMLElement\n\t\t\tconsole.log 'item type',name,typ,!!CUSTOM_TYPES[name.toLowerCase!]\n\t\t\t# console.log 'hydrate??',item.constructor\n\t\t\tcontinue if !item.connectedCallback or !item.parentNode or item.hydrated?\n\t\t\tconsole.log 'hydrate',item # !!item.parentNode,item,item.connectedCallback\n\t\t\t# item.connectedCallback!\n\n\t\tactive = no\n\nexport def hydrate\n\thydrator.flush!\n\nexport class ImbaElement < HTMLElement\n\tdef constructor\n\t\tsuper()\n\t\tif flags$ns\n\t\t\t# explain?\n\t\t\tflag$ = flagExt$\n\n\t\tsetup$()\n\t\tbuild()\n\n\tdef setup$\n\t\t__slots = {}\n\t\t__F = 0\n\n\tdef #init\n\t\t__F |= ($EL_INITED$ | $EL_HYDRATED$)\n\t\tself\n\t\t\n\tdef flag$ str\n\n\t\tself.className = flags$ext = str\n\t\treturn\n\n\t# returns the named slot - for context\n\tdef slot$ name, ctx\n\t\tif name == '__' and !render\n\t\t\treturn self\n\n\t\t__slots[name] ||= createLiveFragment(0,null,self)\n\n\t# called immediately after construction \n\tdef build\n\t\tself\n\n\t# called before the first mount\n\tdef awaken\n\t\tself\n\t\n\t# called when element is attached to document\n\tdef mount\n\t\tself\n\n\tdef unmount\n\t\tself\n\n\t# called after render\n\tdef rendered\n\t\tself\n\n\t# called before element is stringified on server (SSR)\n\tdef dehydrate\n\t\tself\n\n\t# called before awaken if element was not initially created via imba - on the client\n\tdef hydrate\n\t\t# should only autoschedule if we are not awakening inside a parent context that\n\t\tautoschedule = yes\n\t\tself\n\n\tdef tick\n\t\tcommit()\n\n\t# called when component is (re-)rendered from its parent\n\tdef visit\n\t\tcommit()\n\n\t# Wrapper for rendering. Default implementation\n\tdef commit\n\t\tunless render?\n\t\t\t__F |= $EL_UNRENDERED$\n\t\t\treturn self\n\t\t__F |= $EL_RENDERING$ \n\t\trender && render()\n\t\trendered()\n\t\t__F = (__F | $EL_RENDERED$) & ~$EL_RENDERING$ & ~$EL_UNRENDERED$\n\n\tget autoschedule\n\t\t(__F & $EL_SCHEDULE$) != 0\n\t\n\tset autoschedule value\n\t\tvalue ? (__F |= $EL_SCHEDULE$) : (__F &= ~$EL_SCHEDULE$)\n\n\t###\n\tNaming and accepted values will likely change - experimental\n\n\tyes = render on events / imba.commit\n\tno = force manual render\n\tnull / undefined = render via parent\n\t(n)s = render every n s\n\t(n)ms = render every n ms\n\t(n)fps = render n times per second\n\t###\n\tset autorender value\n\t\tlet o = #autorender ||= {}\n\t\to.value = value\n\t\tscheduler.schedule(self,o) if mounted?\n\t\treturn\n\n\tget render?\n\t\treturn !suspended?\n\n\tget mounting?\n\t\treturn (__F & $EL_MOUNTING$) != 0\n\n\tget mounted?\n\t\treturn (__F & $EL_MOUNTED$) != 0\n\t\n\tget awakened?\n\t\treturn (__F & $EL_AWAKENED$) != 0\n\t\n\tget rendered?\n\t\treturn (__F & $EL_RENDERED$) != 0\n\n\tget suspended?\n\t\treturn (__F & $EL_SUSPENDED$) != 0\n\n\tget rendering?\n\t\treturn (__F & $EL_RENDERING$) != 0\n\t\n\tget scheduled?\n\t\treturn (__F & $EL_SCHEDULED$) != 0\n\n\tget hydrated?\n\t\treturn (__F & $EL_HYDRATED$) != 0\n\n\tget ssr?\n\t\treturn (__F & $EL_SSR$) != 0\n\n\tdef schedule\n\t\tscheduler.on('commit',self)\n\t\t__F |= $EL_SCHEDULED$\n\t\treturn self\n\n\tdef unschedule\n\t\tscheduler.un('commit',self)\n\t\t__F &= ~$EL_SCHEDULED$\n\t\treturn self\n\n\tdef suspend cb = null\n\t\tlet val = flags.incr('_suspended_')\n\t\t__F |= $EL_SUSPENDED$\n\t\tif cb isa Function\n\t\t\tawait cb()\n\t\t\tunsuspend!\n\t\tself\n\n\tdef unsuspend\n\t\tlet val = flags.decr('_suspended_')\n\t\tif val == 0\n\t\t\t__F &= ~$EL_SUSPENDED$\n\t\t\tcommit! if $EL_UNRENDERED$\n\n\t\tself\n\n\tdef end$\n\t\tvisit()\n\n\tdef open$\n\t\tif __F & $EL_SSR$\n\t\t\t__F = __F & ~$EL_SSR$\n\t\t\t# remove flag\n\t\t\tclassList.remove('_ssr_')\n\t\t\tif flags$ext and flags$ext.indexOf('_ssr_') == 0\n\t\t\t\tflags$ext = flags$ext.slice(5)\n\t\t\tinnerHTML = ''\n\t\tself\n\n\tdef connectedCallback\n\t\tlet flags = __F\n\t\tlet inited = flags & $EL_INITED$\n\t\tlet awakened = flags & $EL_AWAKENED$\n\n\t\tif !inited and !(flags & $EL_SSR$)\n\t\t\thydrator.queue(self)\n\t\t\treturn\n\n\t\t# return if we are already in the process of mounting - or have mounted\n\t\tif flags & ($EL_MOUNTING$ | $EL_MOUNTED$)\n\t\t\treturn\n\t\t\n\t\t__F |= $EL_MOUNTING$\n\n\t\tunless inited\n\t\t\t#init!\n\n\t\tunless flags & $EL_HYDRATED$\n\t\t\t# clearly seems wrong?\n\t\t\tflags$ext = className\n\t\t\t__F |= $EL_HYDRATED$\n\t\t\tself.hydrate()\n\t\t\tcommit()\n\n\t\tunless awakened\n\t\t\tawaken()\n\t\t\t__F |= $EL_AWAKENED$\n\n\t\tlet res = mount()\n\t\tif res && res.then isa Function\n\t\t\tres.then(scheduler.commit)\n\n\t\tflags = __F = (__F | $EL_MOUNTED$) & ~$EL_MOUNTING$\n\t\t\n\t\tif flags & $EL_SCHEDULE$\n\t\t\tschedule()\n\t\t\n\t\t\n\t\tscheduler.schedule(self,#autorender) if #autorender\n\t\treturn this\n\n\tdef disconnectedCallback\n\t\t__F = __F & (~$EL_MOUNTED$ & ~$EL_MOUNTING$)\n\t\tif __F & $EL_SCHEDULED$\n\t\t\t# trigger potential unschedule listeners\n\t\t\tunschedule()\n\n\t\tunmount()\n\t\tscheduler.unschedule(self,#autorender) if #autorender", "import {Element} from './core'\n\n# imba$imbaPath=global\nconst VALID_CSS_UNITS = {\n\tcm:1\n\tmm:1\n\tQ:1\n\tpc:1\n\tpt:1\n\tpx:1\n\tem:1\n\tex:1\n\tch:1\n\trem:1\n\tvw:1\n\tvh:1\n\tvmin:1\n\tvmax:1\n\ts:1\n\tms:1\n\tfr:1\n\t'%':1\n\t'in':1\n\tturn:1\n\tgrad:1\n\trad:1\n\tdeg:1\n\tHz:1\n\tkHz:1\n}\n\nconst CSS_DEFAULT_UNITS = {\n\tx:'px'\n\ty:'px'\n\tz:'px'\n\trotate:'turn'\n}\n\nconst CSS_STR_PROPS = {\n\tprefix:1\n\tsuffix:1\n\tcontent:1\n}\n\nconst CSS_PX_PROPS = /^([xyz])$/\nconst CSS_DIM_PROPS = /^([tlbr]|size|[whtlbr]|[mps][tlbrxy]?|[rcxy]?[gs])$/\n\nconst resets = '''*,::before,::after {\n\tbox-sizing: border-box;\n\tborder-width: 0;\n\tborder-style: solid;\n\tborder-color: currentColor;\n}'''\n\nclass Styles\n\tentries = {}\n\n\tdef register id, styles\n\t\tlet entry = entries[id]\n\n\t\tif !entry\n\t\t\tentry = entries[id] = {sourceId: id, css: styles}\n\n\t\t\tif !entries.resets\n\t\t\t\tregister('resets',resets)\n\n\t\t\tif $web$\n\t\t\t\tentry.node = document.createElement('style')\n\t\t\t\tentry.node.textContent = entry.css\n\t\t\t\tdocument.head.appendChild(entry.node)\n\n\t\telif entry\n\t\t\t# if it was already registered - we update the content\n\t\t\t# and on the web \u2013 replace the actual styles\n\t\t\tentry.css = styles\n\t\t\tif entry.node\n\t\t\t\tentry.node.textContent = styles\n\t\treturn\n\n\tdef toString\n\t\tObject.values(entries).map(do $1.css).join('\\n\\n')\n\n\tdef toValue value, unit, key\n\t\tif CSS_STR_PROPS[key]\n\t\t\tvalue = String(value)\n\n\t\tlet typ = typeof value\n\t\t\t\n\t\tif typ == 'number'\n\t\t\tif !unit\n\t\t\t\tif CSS_PX_PROPS.test(key)\n\t\t\t\t\tunit = 'px'\n\t\t\t\telif CSS_DIM_PROPS.test(key)\n\t\t\t\t\tunit = 'u'\n\t\t\t\telif key == 'rotate'\n\t\t\t\t\tunit = 'turn'\n\n\t\t\tif unit\n\t\t\t\tif VALID_CSS_UNITS[unit]\n\t\t\t\t\t# what if the unit is already set?\n\t\t\t\t\treturn value + unit\n\t\t\t\telif unit == 'u'\n\t\t\t\t\treturn value * 4 + 'px'\n\t\t\t\telse\n\t\t\t\t\treturn \"calc(var(--u_{unit},1px) * {value})\"\n\t\t\telse\n\t\t\t\tyes\t\n\t\t\t\n\t\telif typ == 'string' and key\n\t\t\tif CSS_STR_PROPS[key] and value[0] != '\"' and value[0] != \"'\"\n\t\t\t\tif value.indexOf('\"') >= 0\n\t\t\t\t\tif value.indexOf(\"'\") == -1\n\t\t\t\t\t\tvalue = \"'\" + value + \"'\"\n\t\t\t\t\telse\n\t\t\t\t\t\tno # do something here\n\t\t\t\telse\n\t\t\t\t\tvalue = '\"' + value + '\"'\n\n\t\telif value and value.toStyleString isa Function\n\t\t\treturn value.toStyleString!\n\t\treturn value\n\t\t\n\tdef parseDimension val\n\t\tif typeof val == 'string'\n\t\t\tlet [m,num,unit] = val.match(/^([-+]?[\\d\\.]+)(%|\\w+)$/)\n\t\t\treturn [parseFloat(num),unit]\n\t\telif typeof val == 'number'\n\t\t\treturn [val]\n\nexport const styles = new Styles\n\nexport def use_styles\n\tyes\n\nextend class Element\n\tdef css$ key, value, mods\n\t\tself.style[key] = value\n\t\t\n\tdef css$var name, value, unit, key\n\t\tlet cssval = styles.toValue(value,unit,key)\n\t\tself.style.setProperty(name,cssval)\n\t\treturn\n\n", "export const renderContext = {\n\tcontext: null\n}", "import {renderContext} from './context'\nimport {scheduler} from '../scheduler'\n\nexport def mount mountable, into\n\tlet parent = into or global.document.body\n\tlet element = mountable\n\tif mountable isa Function\n\t\tlet ctx = {_: parent}\n\t\tlet tick = do\n\t\t\trenderContext.context = ctx\n\t\t\tmountable(ctx)\n\t\t\t# now remove the context?\n\t\telement = tick()\n\t\tscheduler.listen('commit',tick)\n\telse\n\t\t# automatic scheduling of element - even before\n\t\t# element.__schedule = yes\n\t\telement.__F |= $EL_SCHEDULE$\n\n\tparent.appendChild(element)", "# imba$imbaPath=global\nimport {Event,Element} from '../dom/core'\nimport {listen,once,emit,unlisten,parseTime} from '../utils'\nimport {scheduler} from '../scheduler'\n\nconst keyCodes = {\n\tesc: [27],\n\ttab: [9],\n\tenter: [13],\n\tspace: [32],\n\tup: [38],\n\tdown: [40],\n\tleft: [37],\n\tright: [39],\n\tdel: [8,46]\n}\n\nexport const events = {}\n\nexport def use_events\n\tyes\n\ndef Event.log$mod ...params\n\tconsole.log(...params)\n\treturn true\n\n# Skip unless matching selector\ndef Event.sel$mod expr\n\treturn !!event.target.matches(String(expr))\n\t\ndef Event.if$mod expr\n\treturn !!expr\n\t\ndef Event.wait$mod time = 250\n\tnew Promise(do setTimeout($1,parseTime(time)))\n\ndef Event.self$mod\n\treturn event.target == element\n\t\ndef Event.throttle$mod time = 250\n\treturn false if handler.throttled\n\thandler.throttled = yes\n\n\telement.flags.incr('throttled')\n\n\tonce(current,'end') do\n\t\tsetTimeout(&,parseTime(time)) do\n\t\t\telement.flags.decr('throttled')\n\t\t\thandler.throttled = no\n\treturn true\n\ndef Event.debounce$mod time = 250\n\tlet queue = state.debounced ||= []\n\tqueue.push(queue.last = event)\n\tnew Promise do(resolve)\n\t\tsetTimeout(&,parseTime(time)) do\n\t\t\tif queue.last == event\n\t\t\t\t# if this event is still the last\n\t\t\t\t# add the debounced queue to the event\n\t\t\t\t# and let the chain continue\n\t\t\t\tevent.debounced = queue\n\t\t\t\thandler.state = {}\n\t\t\t\tresolve(true)\n\t\t\telse\n\t\t\t\tresolve(false)\n\t\ndef Event.flag$mod name,sel\n\t# console.warn 'event flag',self,arguments,id,step\n\tlet el = sel isa Element ? sel : (sel ? element.closest(sel) : element)\n\treturn true unless el\n\tlet step = step\n\tstate[step] = id\n\n\tel.flags.incr(name)\n\n\tlet ts = Date.now!\n\t\n\tonce(current,'end') do\n\t\tlet elapsed = Date.now! - ts\n\t\tlet delay = Math.max(250 - elapsed,0)\n\t\tsetTimeout(&,delay) do el.flags.decr(name)\n\treturn true\n\t\ndef Event.busy$mod sel\n\treturn Event.flag$mod.call(this,'busy',250,sel)\n\ndef Event.mod$mod name\n\t# FIXME\n\treturn Event.flag$mod.call(this,\"mod-{name}\",global.document.documentElement)\n\n# could cache similar event handlers with the same parts\nexport class EventHandler\n\tdef constructor params,closure\n\t\tself.params = params\n\t\tself.closure = closure\n\n\tdef getHandlerForMethod el, name\n\t\treturn null unless el\n\t\tel[name] ? el : self.getHandlerForMethod(el.parentNode,name)\n\n\t# okay to auto-import these?\n\tdef emit name, ...params do emit(self,name,params)\n\tdef on name, ...params do listen(self,name,...params)\n\tdef once name, ...params do once(self,name,...params)\n\tdef un name, ...params do unlisten(self,name,...params)\n\n\tdef handleEvent event\n\t\tlet target = event.target\n\t\tlet element = event.currentTarget\n\t\tlet mods = self.params\n\t\tlet i = 0\n\t\tlet awaited = no\n\t\tlet prevRes = undefined\n\t\t\n\t\tself.count ||= 0\n\t\tself.state ||= {}\n\n\t\tlet state = {\n\t\t\telement: element\n\t\t\tevent: event\n\t\t\tmodifiers: mods\n\t\t\thandler: this\n\t\t\tid: ++self.count\n\t\t\tstep: -1\n\t\t\tstate: self.state\n\t\t\tcommit: null\n\t\t\tcurrent: null\n\t\t}\n\t\t\n\t\tstate.current = state\n\n\t\tif event.handle$mod\n\t\t\tif event.handle$mod.apply(state,mods.options or []) == false\n\t\t\t\treturn\n\n\t\tlet guard = Event[self.type + '$handle'] or Event[event.type + '$handle'] or event.handle$mod\n\t\t\t\n\t\tif guard and guard.apply(state,mods.options or []) == false\n\t\t\treturn\n\t\t\n\t\t# let object = state.proxy or event \n\t\t\n\t\tself.currentEvents ||= new Set\n\t\tself.currentEvents.add(event)\t\n\n\t\tfor own handler,val of mods\n\t\t\tstate.step++\n\n\t\t\tif handler[0] == '_'\n\t\t\t\tcontinue\n\n\t\t\tif handler.indexOf('~') > 0\n\t\t\t\thandler = handler.split('~')[0]\n\t\t\t\n\t\t\tlet modargs = null\n\t\t\tlet ismod = no\n\t\t\tlet args = [event,state]\n\t\t\tlet res = undefined\n\t\t\tlet context = null\n\t\t\tlet m\n\t\t\tlet isstring = typeof handler == 'string'\n\t\t\t\n\t\t\tif handler[0] == '$' and handler[1] == '_' and val[0] isa Function\n\t\t\t\thandler = val[0]\n\t\t\t\targs = [event,state].concat(val.slice(1))\n\t\t\t\tcontext = element\n\n\t\t\t# parse the arguments\n\t\t\telif val isa Array\n\t\t\t\targs = val.slice()\n\t\t\t\tmodargs = args\n\n\t\t\t\tfor par,i in args\n\t\t\t\t\t# what about fully nested arrays and objects?\n\t\t\t\t\t# ought to redirect this\n\t\t\t\t\tif typeof par == 'string' && par[0] == '~' and par[1] == '$'\n\t\t\t\t\t\tlet name = par.slice(2)\n\t\t\t\t\t\tlet chain = name.split('.')\n\t\t\t\t\t\tlet value = state[chain.shift()] or event\n\n\t\t\t\t\t\tfor part,i in chain\n\t\t\t\t\t\t\tvalue = value ? value[part] : undefined\n\n\t\t\t\t\t\targs[i] = value\n\n\t\t\tif typeof handler == 'string' and m = handler.match(/^(emit|flag|mod|moved|pin|fit|refit|map|remap|css)-(.+)$/)\n\t\t\t\tmodargs = args = [] unless modargs\n\t\t\t\targs.unshift(m[2])\n\t\t\t\thandler = m[1]\n\t\t\t\n\t\t\t# console.log \"handle part\",i,handler,event.currentTarget\n\t\t\t# check if it is an array?\n\t\t\tif handler == 'stop'\n\t\t\t\tevent.stopImmediatePropagation()\n\t\t\telif handler == 'prevent'\n\t\t\t\tevent.preventDefault()\n\t\t\telif handler == 'commit'\n\t\t\t\tstate.commit = yes\n\t\t\telif handler == 'silence' or handler == 'silent'\n\t\t\t\tstate.commit = no\n\t\t\telif handler == 'ctrl'\n\t\t\t\tbreak unless event.ctrlKey\n\t\t\telif handler == 'alt'\n\t\t\t\tbreak unless event.altKey\n\t\t\telif handler == 'shift'\n\t\t\t\tbreak unless event.shiftKey\n\t\t\telif handler == 'meta'\n\t\t\t\tbreak unless event.metaKey\n\t\t\telif handler == 'once'\n\t\t\t\t# clean up bound data as well\n\t\t\t\telement.removeEventListener(event.type,self)\n\t\t\telif handler == 'options'\n\t\t\t\tcontinue\n\n\t\t\telif keyCodes[handler]\n\t\t\t\tunless keyCodes[handler].indexOf(event.keyCode) >= 0\n\t\t\t\t\tbreak\n\n\t\t\telif handler == 'emit'\n\t\t\t\tlet name = args[0]\n\t\t\t\tlet detail = args[1] # is custom event if not?\n\t\t\t\tlet e = new CustomEvent(name, bubbles: true, detail: detail) # : new Event(name)\n\t\t\t\te.originalEvent = event\n\t\t\t\tlet customRes = element.dispatchEvent(e)\n\n\t\t\telif typeof handler == 'string'\n\t\t\t\tlet fn = (self.type and Event[self.type + '$' + handler + '$mod'])\n\t\t\t\tfn ||= event[handler + '$mod'] or Event[event.type + '$' + handler] or Event[handler + '$mod']\n\t\t\t\t\n\t\t\t\tif fn isa Function\n\t\t\t\t\thandler = fn\n\t\t\t\t\tcontext = state\n\t\t\t\t\targs = modargs or []\n\t\t\t\t\tismod = yes\n\n\t\t\t\t# should default to first look at closure - no?\n\t\t\t\telif handler[0] == '_'\n\t\t\t\t\thandler = handler.slice(1)\n\t\t\t\t\tcontext = self.closure\n\t\t\t\telse\n\t\t\t\t\tcontext = self.getHandlerForMethod(element,handler)\n\n\t\t\tif handler isa Function\n\t\t\t\tres = handler.apply(context or element,args)\n\t\t\telif context\n\t\t\t\tres = context[handler].apply(context,args)\n\n\t\t\tif state.commit === null and !ismod\n\t\t\t\tstate.commit = yes\n\n\t\t\tif res and res.then isa Function and res != scheduler.$promise\n\t\t\t\tscheduler.commit! if state.commit\n\t\t\t\tawaited = yes\n\t\t\t\t# TODO what if await fails?\n\t\t\t\tres = await res\n\n\t\t\tif res === false\n\t\t\t\tbreak\n\n\t\t\tstate.value = res\n\t\t\n\t\temit(state,'end',state)\n\n\t\tscheduler.commit! if state.commit\n\n\t\tself.currentEvents.delete(event)\n\t\tif self.currentEvents.size == 0\n\t\t\tself.emit('idle')\n\t\t# what if the result is a promise\n\t\treturn\n\n\n# Add methods to Element\nextend class Element\n\n\tdef on$ type, mods, scope\n\t\tlet check = 'on$' + type\n\t\tlet handler\n\n\t\t# check if a custom handler exists for this type?\n\t\tif self[check] isa Function\n\t\t\thandler = self[check](mods,scope)\n\n\t\thandler = new EventHandler(mods,scope)\n\t\tlet capture = mods.capture\n\t\tlet passive = mods.passive\n\n\t\tlet o = capture\n\n\t\tif passive\n\t\t\to = {passive: passive, capture: capture}\n\t\t\n\t\tif (/^(pointerdrag|touch)$/).test(type)\n\t\t\thandler.type = type\n\t\t\ttype = 'pointerdown'\n\t\t\t\n\t\tself.addEventListener(type,handler,o)\n\t\treturn handler\n", "import {available_chords} from './chords'\n# import * as available_chords from './chords.json'\n\n# console.log available_chords\n\nexport tag song-tag\n\tsong = {}\n\tsettings = {}\n\n\tdef mount\n\t\tconsole.log song, settings\n\n\tdef chordImgUrl chord\n\t\tif chord == 'Bm'\n\t\t\tchord = 'Hm'\n\t\treturn \"/chords/{chord.replace('#', 'x')}.png\"\n\n\t<self[ff:{settings.font.family} fs:{settings.font.size} lh:{settings.font.line-height}]>\n\t\tif song\n\t\t\t<h1> song.title\n\t\t\t<pre[m:auto]>\n\t\t\t\tfor line in song.lines\n\t\t\t\t\tif line.text\n\t\t\t\t\t\t<span> line.text\n\t\t\t\t\telif line.break\n\t\t\t\t\t\t<br>\n\t\t\t\t\telif line.refrain\n\t\t\t\t\t\t<span.refrain> line.refrain\n\t\t\t\t\telif line.bridge\n\t\t\t\t\t\t<span.bridge> line.bridge\n\t\t\t\t\telif line.chords && settings.show_chords\n\t\t\t\t\t\t<span.chords>\n\t\t\t\t\t\t\tfor part in line.chords\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\tif part[0] != ' '\n\t\t\t\t\t\t\t\t\t\t<span.chord>\n\t\t\t\t\t\t\t\t\t\t\tpart\n\t\t\t\t\t\t\t\t\t\t\t<.chord_img>\n\t\t\t\t\t\t\t\t\t\t\t\t<img .invert=(settings.theme == 'dark') src=chordImgUrl(part)>\n\t\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\t\tpart\n\t\t\t\t\tunless line.bridge or (line.chords && not settings.show_chords)\n\t\t\t\t\t\t<br>\n\t\n\tcss\n\t\td:flex\n\t\tfld:column\n\n\tcss h1\n\t\tm:2em auto\n\n\tcss .bridge\n\t\tta: right\n\t\tfont-style: italic\n\t\td:block\n\t\n\tcss .refrain\n\t\tfw:bold\n\t\n\tcss .chords\n\t\tpt: 0.5em\n\t\td:inline-block\n\t\tlh:1\n\t\n\tcss .chord\n\t\tpos:relative\n\t\tcursor:pointer\n\t\tc:$accent-hover-color @hover:$accent-color\n\t\td:inline-flex\n\t\tjc:center\n\n\tcss .chord > .chord_img\n\t\to:0\n\t\tvisibility:hidden\n\t\ttransform: scale(0.2)\n\t\torigin: bottom center\n\t\n\tcss .chord@hover > .chord_img\n\t\to:1\n\t\tvisibility:visible\n\t\ttransform:none\n\n\n\tcss .chord_img\n\t\tus:none\n\t\tbd:1px solid $btn-bg\n\t\tpos:absolute\n\t\tb:100%\n\t\tbg:$background-color\n\t\tp:8px 0\n\t\trd:8px\n\t\tshadow: 0 0 0 1px rgba(53,72,91,.1),0 2px 2px rgba(0,0,0,.0274351),0 4px 4px rgba(0,0,0,.0400741),0 10px 8px rgba(0,0,0,.0499982),0 15px 15px rgba(0,0,0,.0596004),0 30px 30px rgba(0,0,0,.0709366),0 70px 65px rgba(0,0,0,.09)\n\t\n\tcss .invert\n\t\tfilter: invert(100%)", "export let songs = [\n\t{\n\t\tname: '\u0411\u043B\u0430\u0433\u043E\u0434\u0430\u0440\u044E \u0422\u0435\u0431\u044F, \u0421\u043E\u0437\u0434\u0430\u0442\u0435\u043B\u044C'\n\t\ttitle: '\u0411\u043B\u0430\u0433\u043E\u0434\u0430\u0440\u044E \u0422\u0435\u0431\u044F, \u0421\u043E\u0437\u0434\u0430\u0442\u0435\u043B\u044C -0'\n\t\tlines: [\n\t\t\t{chords:\"Em         H7        Em\"}\n\t\t\t{text:\"\u0411\u043B\u0430\u0433\u043E\u0434\u0430\u0440\u044E \u0422\u0435\u0431\u044F, \u0421\u043E\u0437\u0434\u0430\u0442\u0435\u043B\u044C\"}\n\t\t\t{chords:\"Em        H7         Em         E\"}\n\t\t\t{text:\"\u0411\u043B\u0430\u0433\u043E\u0434\u0430\u0440\u044E \u0437\u0430 \u0432\u0441\u0435, \u0447\u0442\u043E \u0434\u0430\u043B \u0422\u044B \"}\n\t\t\t{chords:\"Am                              Em\"}\n\t\t\t{text:\"\u0417\u0430 \u0442\u043E, \u0447\u0442\u043E \u0432\u0438\u0436\u0443 \u0440\u043E\u0434\u043D\u044B\u0445 \u0438 \u0431\u043B\u0438\u0437\u043A\u0438\u0445 \"}\n\t\t\t{chords:\"H7              Em\"}\n\t\t\t{text:\"\u0418 \u0437\u0430 \u0434\u0440\u0443\u0437\u0435\u0439 \u0431\u043B\u0430\u0433\u043E\u0434\u0430\u0440\u044E \"}\n\t\t\t{chords:\"Am              Em\"}\n\t\t\t{text:\"\u0417\u0430 \u0437\u0432\u0443\u043A\u0438 \u043F\u0435\u0441\u0435\u043D \u0438 \u0437\u0430 \u0441\u043F\u0430\u0441\u0435\u043D\u0438\u0435,\"}\n\t\t\t{chords:\"H7                Em - Fm    \"}\n\t\t\t{text:\"\u0427\u0442\u043E \u044F \u0436\u0438\u0432\u0443 \u2013 \u0431\u043B\u0430\u0433\u043E\u0434\u0430\u0440\u044E.\"}\n\t\t\t{break:yes}\n\t\t\t{chords:\"Fm       C           Fm\"}\n\t\t\t{text:\"\u0411\u043B\u0430\u0433\u043E\u0434\u0430\u0440\u044E \u0422\u0435\u0431\u044F, \u0421\u043E\u0437\u0434\u0430\u0442\u0435\u043B\u044C!\"}\n\t\t\t{chords:\"Fm       C           Fm\"}\n\t\t\t{text:\"\u0411\u043B\u0430\u0433\u043E\u0434\u0430\u0440\u044E \u0437\u0430 \u0432\u0441\u0435, \u0447\u0442\u043E \u0434\u0430\u043B \u0422\u044B.\"}\n\t\t\t{chords:\"Bm                     Fm\"}\n\t\t\t{text:\"\u0417\u0430 \u043A\u0440\u0430\u0441\u043A\u0438 \u043D\u0435\u0431\u0430, \u0437\u0430 \u0437\u0430\u043F\u0430\u0445 \u0445\u043B\u0435\u0431\u0430\"}\n\t\t\t{chords:\"C                 Fm  F\"}\n\t\t\t{text:\"\u0418 \u0437\u0430 \u043C\u043E\u0439 \u0434\u043E\u043C \u2013 \u0431\u043B\u0430\u0433\u043E\u0434\u0430\u0440\u044E \"}\n\t\t\t{chords:\"Bm                 Em\"}\n\t\t\t{text:\"\u0417\u0430 \u043C\u0438\u0440 \u0438 \u0441\u0447\u0430\u0441\u0442\u044C\u0435, \u0438 \u0437\u0430 \u043D\u0435\u043D\u0430\u0441\u0442\u044C\u0435.\"}\n\t\t\t{chords:\"C             Em\"}\n\t\t\t{text:\"\u0417\u0430 \u0432\u0441\u0435 \u0422\u0435\u0431\u044F \u0431\u043B\u0430\u0433\u043E\u0434\u0430\u0440\u044E!\"}\n\t\t\t{break:yes}\n\t\t\t{bridge:\"\u041F\u0440\u043E\u0433\u0440\u0430\u0448\"}\n\t\t\t{text:\"\u0411\u043B\u0430\u0433\u043E\u0434\u0430\u0440\u044E \u0422\u0435\u0431\u044F, \u0421\u043E\u0437\u0434\u0430\u0442\u0435\u043B\u044C\"}\n\t\t\t{text:\"\u0411\u043B\u0430\u0433\u043E\u0434\u0430\u0440\u044E \u0437\u0430 \u0432\u0441\u0435, \u0447\u0442\u043E \u0434\u0430\u043B \u0422\u044B \"}\n\t\t\t{text:\"\u0417\u0430 \u0441\u0435\u0440\u0434\u0446\u0430 \u043F\u0435\u0441\u043D\u044E, \u0447\u0442\u043E \u043B\u044C\u0435\u0442\u0441\u044F \u043A \u043D\u0435\u0431\u0443\"}\n\t\t\t{text:\"\u0411\u043B\u0430\u0433\u043E\u0434\u0430\u0440\u044F \u044F \u0435\u0439 \u0436\u0438\u0432\u0443\"}\n\t\t\t{text:\"// \u0417\u0430 \u0442\u0435\u0445, \u043A\u0442\u043E \u0440\u044F\u0434\u043E\u043C \u043B\u044E\u0431\u043E\u0432\u044C \u043C\u043D\u0435 \u0434\u0430\u0440\u044F\u0442\"}\n\t\t\t{text:\"\u0417\u0430 \u043B\u044E\u0431\u043E\u0432\u044C \u0431\u043B\u0430\u0433\u043E\u0434\u0430\u0440\u044E // 2 \u0440.\"}\n\t\t]\n\t}\n]\n", "import './global_styles'\nimport './song'\nimport {songs} from './songs'\n\nsongs.sort(do |a, b|\n\treturn ('' + a.title).localeCompare(b.title))\n\n# Parse songs choirds\nfor song in songs\n\tfor line in song.lines\n\t\tif line.chords\n\t\t\t# Then parse the chords line and separate spaces from chords\n\t\t\tlet chords = []\n\t\t\tlet chord = ''\n\t\t\tlet whitespace = ''\n\t\t\tfor character in line.chords\n\t\t\t\tif character == ' ' || character == '-'\n\t\t\t\t\tif chord\n\t\t\t\t\t\tchords.push chord\n\t\t\t\t\t\tchord = ''\n\t\t\t\t\twhitespace += character\n\t\t\t\telse\n\t\t\t\t\tchord += character\n\t\t\t\t\tif whitespace\n\t\t\t\t\t\tchords.push whitespace\n\t\t\t\t\t\twhitespace = ''\n\t\t\tif chord\n\t\t\t\tchords.push chord\n\n\t\t\t# console.log chords\n\t\t\tline.chords = chords\n\n\n\n\n# console.log(song)\n\nlet agent = window.navigator.userAgent;\nlet isWebkit = (agent.indexOf(\"AppleWebKit\") > 0);\nlet isIPad = (agent.indexOf(\"iPad\") > 0);\nlet isIOS = (agent.indexOf(\"iPhone\") > 0 || agent.indexOf(\"iPod\") > 0)\nlet isAndroid = (agent.indexOf(\"Android\")  > 0)\nlet isNewBlackBerry = (agent.indexOf(\"AppleWebKit\") > 0 && agent.indexOf(\"BlackBerry\") > 0)\nlet isWebOS = (agent.indexOf(\"webOS\") > 0);\nlet isWindowsMobile = (agent.indexOf(\"IEMobile\") > 0)\nlet isSmallScreen = (screen.width < 767 || (isAndroid && screen.width < 1000))\nlet isUnknownMobile = (isWebkit && isSmallScreen)\nlet isMobile = (isIOS || isAndroid || isNewBlackBerry || isWebOS || isWindowsMobile || isUnknownMobile)\nlet isTablet = (isIPad || (isMobile && !isSmallScreen))\n\nlet MOBILE_PLATFORM = no\n\nif isMobile && isSmallScreen && document.cookie.indexOf( \"mobileFullSiteClicked=\") < 0\n\tMOBILE_PLATFORM = yes\n\nlet menu_icons_transform = 0\nlet songbook_menu_left = -300\nlet settings_menu_left = -300\n\n\n\nwindow.onscroll = do |e|\n\tlet testsize = 2 - ((window.scrollY * 4) / window.innerHeight)\n\n\tconst last_known_scroll_position = window.scrollY\n\tsetTimeout(&, 100) do\n\t\tif window.scrollY < last_known_scroll_position || not window.scrollY\n\t\t\tmenu_icons_transform = 0\n\t\telif window.scrollY > last_known_scroll_position\n\t\t\tif window.innerWidth > 1024\n\t\t\t\tmenu_icons_transform = -100\n\t\t\telse\n\t\t\t\tmenu_icons_transform = 100\n\n\t\timba.commit()\n\n\n\ntag app\n\tsettings = {\n\t\t\tshow_chords: yes\n\t\t\ttheme: 'light'\n\t\t\tfont: {\n\t\t\t\tsize: 18,\n\t\t\t\tfamily: \"Sans, sans-serif\",\n\t\t\t\tname: \"Sans\",\n\t\t\t\tline-height: 1.6\n\t\t\t}\n\t\t}\n\n\tdef setup\n\t\tif getCookie('theme')\n\t\t\tsettings.theme = getCookie('theme')\n\t\t\tchangeTheme(settings.theme)\n\t\telse\n\t\t\tdocument.documentElement.dataset.light = settings.theme\n\t\t\tdocument.documentElement.dataset.theme = settings.theme\n\n\t\tsettings.show_chords = !(getCookie('show_chords') == 'false')\n\t\tsettings.font.size = parseInt(getCookie('font')) || settings.font.size\n\t\tsettings.font.family = getCookie('font-family') || settings.font.family\n\t\t# settings.font.name = getCookie('font-name') || settings.font.name\n\t\tsettings.font.line-height = parseFloat(getCookie('line-height')) || settings.font.line-height\n\n\n\t# I call items from localStorage cookies :P\n\tdef getCookie c_name\n\t\twindow.localStorage.getItem(c_name)\n\n\tdef setCookie c_name, value\n\t\twindow.localStorage.setItem(c_name, value)\n\n\n\tdef clearSpace\n\t\tsettings_menu_left = 0\n\t\tsongbook_menu_left = 0\n\n\n\tdef toggleSongbookMenu parallel\n\t\tif songbook_menu_left\n\t\t\tif !settings_menu_left && MOBILE_PLATFORM\n\t\t\t\tclearSpace!\n\t\t\t\treturn\n\t\t\tsongbook_menu_left = 0\n\t\t\tsettings_menu_left = -300\n\t\telse\n\t\t\tsongbook_menu_left = -300\n\n\tdef toggleSettingsMenu\n\t\tif settings_menu_left\n\t\t\tif !songbook_menu_left && MOBILE_PLATFORM\n\t\t\t\tclearSpace!\n\t\t\t\treturn\n\t\t\tsettings_menu_left = 0\n\t\t\tsongbook_menu_left = -300\n\t\telse\n\t\t\tsettings_menu_left = -300\n\n\tdef boxShadow grade\n\t\tif settings.theme == 'light'\n\t\t\treturn \"box-shadow: 0 0 {(grade + 300) / 5}px rgba(0, 0, 0, 0.067);\"\n\t\telse\n\t\t\treturn ''\n\n\tdef mousemove e\n\t\tif not MOBILE_PLATFORM\n\t\t\tif e.x < 32\n\t\t\t\tsongbook_menu_left = 0\n\t\t\telif e.x > window.innerWidth - 32\n\t\t\t\tsettings_menu_left = 0\n\t\t\telif 300 < e.x < window.innerWidth - 300\n\t\t\t\tsongbook_menu_left = -300\n\t\t\t\tsettings_menu_left = -300\n\n\tdef showHideChords\n\t\tsettings.show_chords = not settings.show_chords\n\t\tsetCookie('show_chords', settings.show_chords)\n\n\n\n\tdef changeTheme theme\n\t\tdocument.documentElement.dataset.pukaka = 'yes'\n\n\t\tif settings.sepia\n\t\t\ttoggleSepia!\n\n\t\tsettings.theme = theme\n\t\tdocument.documentElement.dataset.theme = settings.accent + settings.theme\n\t\tdocument.documentElement.dataset.light = settings.theme\n\t\tsetCookie('theme', theme)\n\n\t\tsetTimeout(&, 75) do\n\t\t\timba.commit!.then do document.documentElement.dataset.pukaka = 'no'\n\n\tdef decreaseFontSize\n\t\tif settings.font.size > 16\n\t\t\tsettings.font.size -= 2\n\t\t\tsetCookie('font', settings.font.size)\n\n\tdef increaseFontSize\n\t\tif settings.font.size < 64 && window.innerWidth > 480\n\t\t\tsettings.font.size = settings.font.size + 2\n\t\telif settings.font.size < 40\n\t\t\tsettings.font.size = settings.font.size + 2\n\t\tsetCookie('font', settings.font.size)\n\n\n\tdef changeLineHeight increase\n\t\tif increase && settings.font.line-height < 2.6\n\t\t\tsettings.font.line-height += 0.2\n\t\telif settings.font.line-height > 1.2\n\t\t\tsettings.font.line-height -= 0.2\n\t\tsetCookie('line-height', settings.font.line-height)\n\n\n\t<self>\n\t\t<nav @touchstart=slidestart @touchend=closedrawersend @touchcancel=closedrawersend @touchmove=closingdrawer style=\"left: {songbook_menu_left}px; {boxShadow(songbook_menu_left)}{(onzone || inzone) ? 'transition:none;' : ''}\">\n\t\t\t<h1> 'Songs'\n\n\t\t<main[p:4vh 2vw 16vh] @mousemove=mousemove>\n\n\t\t\t<song-tag song=songs[0] settings=settings>\n\n\t\t<aside @touchstart=slidestart @touchend=closedrawersend @touchcancel=closedrawersend @touchmove=closingdrawer style=\"right:{MOBILE_PLATFORM ? settings_menu_left : settings_menu_left ? settings_menu_left : settings_menu_left + 12}px;{boxShadow(settings_menu_left)}{(onzone || inzone) ? 'transition:none;' : ''}\">\n\t\t\t<.btnbox>\n\t\t\t\t<svg.cbtn[p:8px] @click=changeTheme('dark') enable-background=\"new 0 0 24 24\" viewBox=\"0 0 24 24\" >\n\t\t\t\t\t<title> '\u041D\u0456\u0447\u043D\u0430 \u0442\u0435\u043C\u0430'\n\t\t\t\t\t<path d=\"M11.1,12.08C8.77,7.57,10.6,3.6,11.63,2.01C6.27,2.2,1.98,6.59,1.98,12c0,0.14,0.02,0.28,0.02,0.42 C2.62,12.15,3.29,12,4,12c1.66,0,3.18,0.83,4.1,2.15C9.77,14.63,11,16.17,11,18c0,1.52-0.87,2.83-2.12,3.51 c0.98,0.32,2.03,0.5,3.11,0.5c3.5,0,6.58-1.8,8.37-4.52C18,17.72,13.38,16.52,11.1,12.08z\">\n\t\t\t\t\t<path d=\"M7,16l-0.18,0C6.4,14.84,5.3,14,4,14c-1.66,0-3,1.34-3,3s1.34,3,3,3c0.62,0,2.49,0,3,0c1.1,0,2-0.9,2-2 C9,16.9,8.1,16,7,16z\">\n\t\t\t\t<svg.cbtn [p:8px] @click=changeTheme('light') viewBox=\"0 0 20 20\">\n\t\t\t\t\t<title> '\u0414\u0435\u043D\u043D\u0430 \u0442\u0435\u043C\u0430'\n\t\t\t\t\t<path d=\"M10 14a4 4 0 1 1 0-8 4 4 0 0 1 0 8zM9 1a1 1 0 1 1 2 0v2a1 1 0 1 1-2 0V1zm6.65 1.94a1 1 0 1 1 1.41 1.41l-1.4 1.4a1 1 0 1 1-1.41-1.41l1.4-1.4zM18.99 9a1 1 0 1 1 0 2h-1.98a1 1 0 1 1 0-2h1.98zm-1.93 6.65a1 1 0 1 1-1.41 1.41l-1.4-1.4a1 1 0 1 1 1.41-1.41l1.4 1.4zM11 18.99a1 1 0 1 1-2 0v-1.98a1 1 0 1 1 2 0v1.98zm-6.65-1.93a1 1 0 1 1-1.41-1.41l1.4-1.4a1 1 0 1 1 1.41 1.41l-1.4 1.4zM1.01 11a1 1 0 1 1 0-2h1.98a1 1 0 1 1 0 2H1.01zm1.93-6.65a1 1 0 1 1 1.41-1.41l1.4 1.4a1 1 0 1 1-1.41 1.41l-1.4-1.4z\">\n\t\t\t<.btnbox>\n\t\t\t\t<svg.cbtn @click.changeLineHeight(no) xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 38 14\" fill=\"context-fill\" [padding: 16px 0]>\n\t\t\t\t\t<title> '\u0417\u043C\u0435\u043D\u0448\u0438\u0442\u0438 \u0432\u0438\u0441\u043E\u0442\u0443 \u0440\u044F\u0434\u043A\u0430'\n\t\t\t\t\t<rect x=\"0\" y=\"0\" width=\"28\" height=\"2\">\n\t\t\t\t\t<rect x=\"0\" y=\"6\" width=\"38\" height=\"2\">\n\t\t\t\t\t<rect x=\"0\" y=\"12\" width=\"18\" height=\"2\">\n\t\t\t\t<svg.cbtn @click.changeLineHeight(yes) xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 38 24\" fill=\"context-fill\" [padding: 10px 0]>\n\t\t\t\t\t<title> '\u0417\u0431\u0456\u043B\u044C\u0448\u0438\u0442\u0438 \u0432\u0438\u0441\u043E\u0442\u0443 \u0440\u044F\u0434\u043A\u0430'\n\t\t\t\t\t<rect x=\"0\" y=\"0\" width=\"28\" height=\"2\">\n\t\t\t\t\t<rect x=\"0\" y=\"11\" width=\"38\" height=\"2\">\n\t\t\t\t\t<rect x=\"0\" y=\"22\" width=\"18\" height=\"2\">\n\t\t\t<.btnbox>\n\t\t\t\t<button.cbtn [padding: 12px font-size: 20px] @click=decreaseFontSize title=\"\u0417\u043C\u0435\u043D\u0448\u0438\u0442\u0438 \u0448\u0440\u0438\u0444\u0442\"> \"B-\"\n\t\t\t\t<button.cbtn [padding: 8px font-size: 24px] @click=increaseFontSize title=\"\u0417\u0431\u0456\u043B\u044C\u0448\u0438\u0442\u0438 \u0448\u0440\u0438\u0444\u0442\"> \"B+\"\n\n\t\t\t<.flexy-item @click=showHideChords .activated-checkbox=settings.show_chords>\n\t\t\t\t'\u041F\u043E\u043A\u0430\u0437\u0430\u0442\u0438 \u0430\u043A\u043E\u0440\u0434\u0438'\n\t\t\t\t<p.checkbox> <span>\n\n\t\t<header#navigation>\n\t\t\t<[l:0 transform: translateY({menu_icons_transform}%)] @click=toggleSongbookMenu>\n\t\t\t\t<svg viewBox=\"0 0 16 16\">\n\t\t\t\t\t<title> '\u041F\u0456\u0441\u043D\u0438\u043A'\n\t\t\t\t\t<path d=\"M3 5H7V6H3V5ZM3 8H7V7H3V8ZM3 10H7V9H3V10ZM14 5H10V6H14V5ZM14 7H10V8H14V7ZM14 9H10V10H14V9ZM16 3V12C16 12.55 15.55 13 15 13H9.5L8.5 14L7.5 13H2C1.45 13 1 12.55 1 12V3C1 2.45 1.45 2 2 2H7.5L8.5 3L9.5 2H15C15.55 2 16 2.45 16 3ZM8 3.5L7.5 3H2V12H8V3.5ZM15 3H9.5L9 3.5V12H15V3Z\">\n\t\t\t\t<p> '\u041F\u0456\u0441\u043D\u0438\u043A'\n\t\t\t<[r:0 transform: translateY({menu_icons_transform}%)] @click=toggleSettingsMenu>\n\t\t\t\t<svg enable-background=\"new 0 0 24 24\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\">\n\t\t\t\t\t<title> \"\u041D\u0430\u043B\u0430\u0448\u0442\u0443\u0432\u0430\u043D\u043D\u044F\"\n\t\t\t\t\t<g>#\n\t\t\t\t\t\t<path d=\"M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.43,0.17-0.47,0.41L9.25,5.35C8.66,5.59,8.12,5.92,7.63,6.29L5.24,5.33c-0.22-0.08-0.47,0-0.59,0.22L2.74,8.87 C2.62,9.08,2.66,9.34,2.86,9.48l2.03,1.58C4.84,11.36,4.8,11.69,4.8,12s0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.54 c0.05,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.44-0.17,0.47-0.41l0.36-2.54c0.59-0.24,1.13-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0,0.59-0.22l1.92-3.32c0.12-0.22,0.07-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z\">\n\t\t\t\t<p> \"\u041D\u0430\u043B\u0430\u0448\u0442\u0443\u0432\u0430\u043D\u043D\u044F\"\n\n\n\n\n\tcss #navigation\n\t\tposition: fixed\n\t\ttop: 0 @lt-lg: auto\n\t\tright: 0\n\t\tleft: 0\n\t\tb@lt-lg: 0\n\t\tdisplay: flex\n\t\tjustify-content: space-between\n\t\theight: 0\n\t\tz-index: 2\n\t\tcursor: pointer\n\t\tus:none\n\n\tcss #navigation > div \n\t\tpadding: 3vw\n\t\twidth: calc(32px + 6vw)\n\t\theight: calc(32px + 6vw)\n\t\tc@hover: $accent-hover-color\n\t\twidth@lt-lg: 50%\n\t\tbottom@lt-lg: 0\n\t\tpadding@lt-lg: 4px\n\t\theight@lt-lg: 54px\n\t\tposition@lt-lg: absolute\n\t\tbackground-color@lt-lg: $background-color\n\t\tborder-top@lt-lg: 1px solid $btn-bg\n\t\tdisplay@lt-lg: flex\n\t\tflex-direction: column\n\t\tjustify-content: center\n\t\talign-items: center\n\n\tcss #navigation svg \n\t\twidth: 32px\n\t\theight: 32px\n\t\tmin-height: 32px\n\t\tfill: $text-color\n\t\topacity@lt-lg: 0.75 @hover: 1\n\n\tcss #navigation > div@hover > svg \n\t\tfill: $accent-hover-color\n\n\tcss #navigation p \n\t\tm:0\n\t\tdisplay: none @lt-lg: inline-block\n\t\tpadding: 0 8px\n\t\topacity: 0.75\n\t\tfont-size: 12px\n\n\n\tcss aside\n\t\tborder-left: 1px solid $btn-bg\n\t\tpadding: 32px 12px\n\t\toverflow-y: auto\n\t\t-webkit-overflow-scrolling: touch\n\t\td:flex\n\t\tfld:column\n\t\tjc:end\n\n\tcss nav \n\t\tborder-right: 1px solid $btn-bg\n\t\tpadding: 32px 0\n\n\tcss nav, aside \n\t\tposition: fixed\n\t\ttop: 0\n\t\tbottom: 0\n\t\tus:none\n\t\twidth: 300px\n\t\ttouch-action: pan-y\n\t\tz-index: 1000\n\t\tbackground-color: $background-color\n\n\tcss .flexy-item\n\t\tmargin: 24px 0\n\t\theight: 38px\n\t\tcursor: pointer\n\t\tdisplay: flex\n\t\talign-items: center\n\t\topacity: 0.5\n\t\t\n\tcss .activated-checkbox\n\t\to:1\n\n\tcss .checkbox\n\t\twidth: 50px\n\t\tmin-width: 50px\n\t\theight: 30px\n\t\tborder: 2px solid $text-color\n\t\tborder-radius: 40px\n\t\tmargin-left: auto\n\n\tcss .checkbox span\n\t\tdisplay: block\n\t\twidth: 26px\n\t\theight: 26px\n\t\tbackground: $text-color\n\t\tborder-radius: 14px\n\n\tcss .activated-checkbox span\n\t\ttransform: translateX(20px)\n\n\n\tcss .btnbox\n\t\theight: 46px\n\t\tmargin: 16px 0\n\t\t\n\tcss .cbtn\n\t\tcursor: pointer\n\t\twidth: 50%\n\t\theight: 100%\n\t\tfill: $text-color @hover: $accent-hover-color\n\t\tcolor: $text-color @hover: $accent-hover-color\n\t\tbgc:transparent @hover: $btn-bg-hover @active: $btn-bg\n\t\tdisplay: inline-block\n\t\ttext-align: center\n\t\trd: 8px\n\t\ttransform@active: translateY(4px)\n\t\tbd:none\n\t\t\n\nimba.mount <app>"],
  "mappings": "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",
  "names": []
}
